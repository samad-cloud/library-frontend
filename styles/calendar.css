/* Calendar Component Styles */
@tailwind base;
@tailwind components;
@tailwind utilities;
@layer components {
  /* Calendar Color System */
  .calendar-container {
    --cal-pending: hsl(45, 93%, 47%);
    --cal-pending-bg: hsl(45, 93%, 95%);
    --cal-pending-hover: hsl(45, 93%, 92%);
    
    --cal-processing: hsl(271, 91%, 65%);
    --cal-processing-bg: hsl(271, 91%, 95%);
    --cal-processing-hover: hsl(271, 91%, 92%);
    
    --cal-completed: hsl(142, 71%, 45%);
    --cal-completed-bg: hsl(142, 71%, 95%);
    --cal-completed-hover: hsl(142, 71%, 92%);
    
    --cal-failed: hsl(0, 84%, 60%);
    --cal-failed-bg: hsl(0, 84%, 95%);
    --cal-failed-hover: hsl(0, 84%, 92%);
    
    --cal-default: hsl(211, 100%, 50%);
    --cal-default-bg: hsl(211, 100%, 95%);
    --cal-default-hover: hsl(211, 100%, 92%);
    
    --cal-border: hsl(214, 32%, 91%);
    --cal-hover: hsl(214, 95%, 97%);
    --cal-selected: hsl(214, 95%, 93%);
    --cal-today: hsl(47, 100%, 96%);
    --cal-weekend: hsl(220, 14%, 98%);
  }

  /* Calendar Grid */
  .calendar-grid {
    @apply grid grid-cols-7 gap-0.5 bg-gray-200 p-0.5 rounded-lg;
  }

  .calendar-day-cell {
    @apply relative bg-white min-h-[100px] p-2 transition-all duration-200;
    @apply hover:shadow-md hover:z-10 hover:scale-[1.02];
  }

  .calendar-day-cell.weekend {
    background-color: var(--cal-weekend);
  }

  .calendar-day-cell.today {
    background-color: var(--cal-today);
    @apply ring-2 ring-yellow-400 ring-offset-1;
  }

  .calendar-day-cell.other-month {
    @apply opacity-40;
  }

  .calendar-day-cell.selected {
    background-color: var(--cal-selected);
    @apply ring-2 ring-blue-500;
  }

  /* Event Pills */
  .event-pill {
    @apply rounded-full px-2 py-0.5 text-xs font-medium truncate cursor-pointer;
    @apply transition-all duration-150 hover:shadow-sm hover:scale-105;
  }

  .event-pill.pending {
    background-color: var(--cal-pending-bg);
    color: var(--cal-pending);
    @apply border border-amber-200;
  }

  .event-pill.processing {
    background-color: var(--cal-processing-bg);
    color: var(--cal-processing);
    @apply border border-purple-200;
  }

  .event-pill.completed {
    background-color: var(--cal-completed-bg);
    color: var(--cal-completed);
    @apply border border-green-200;
  }

  .event-pill.failed {
    background-color: var(--cal-failed-bg);
    color: var(--cal-failed);
    @apply border border-red-200;
  }

  /* Event Dots */
  .event-dot {
    @apply w-1.5 h-1.5 rounded-full inline-block;
  }

  .event-dot.pending {
    background-color: var(--cal-pending);
  }

  .event-dot.processing {
    background-color: var(--cal-processing);
  }

  .event-dot.completed {
    background-color: var(--cal-completed);
  }

  .event-dot.failed {
    background-color: var(--cal-failed);
  }

  /* Mini Calendar */
  .mini-calendar {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-3;
  }

  .mini-calendar-grid {
    @apply grid grid-cols-7 gap-0.5 text-xs;
  }

  .mini-calendar-day {
    @apply aspect-square flex items-center justify-center rounded cursor-pointer;
    @apply hover:bg-gray-100 transition-colors;
  }

  .mini-calendar-day.today {
    @apply bg-blue-500 text-white font-bold;
  }

  .mini-calendar-day.selected {
    @apply bg-blue-100 text-blue-700 font-medium;
  }

  .mini-calendar-day.has-events::after {
    content: '';
    @apply absolute bottom-0.5 left-1/2 -translate-x-1/2;
    @apply w-1 h-1 bg-blue-500 rounded-full;
  }

  /* Calendar Header */
  .calendar-header {
    @apply bg-white rounded-t-lg border-b border-gray-200 px-4 py-3;
    @apply flex items-center justify-between;
  }

  .calendar-nav-button {
    @apply p-2 rounded-lg hover:bg-gray-100 transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500;
  }

  .calendar-view-toggle {
    @apply inline-flex rounded-lg bg-gray-100 p-1;
  }

  .calendar-view-button {
    @apply px-3 py-1.5 rounded-md text-sm font-medium transition-colors;
    @apply hover:bg-white hover:shadow-sm;
  }

  .calendar-view-button.active {
    @apply bg-white shadow-sm text-blue-600;
  }

  /* Event creation hover zones */
  .calendar-day-cell:hover .day-create-hint {
    @apply opacity-100;
  }

  .day-create-hint {
    @apply absolute inset-0 flex items-center justify-center;
    @apply bg-black bg-opacity-5 opacity-0 transition-opacity;
    @apply pointer-events-none;
  }

  /* Loading states */
  .calendar-skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }

  /* Drag and drop */
  .calendar-day-cell.drag-over {
    @apply bg-blue-50 ring-2 ring-blue-400 ring-offset-2;
  }

  .event-pill.dragging {
    @apply opacity-50 cursor-grabbing;
  }

  /* Animations */
  @keyframes slide-in-up {
    from {
      transform: translateY(10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-slide-in-up {
    animation: slide-in-up 0.3s ease-out;
  }

  .animate-fade-in {
    animation: fade-in 0.2s ease-out;
  }

  /* Mobile optimizations */
  @media (max-width: 640px) {
    .calendar-day-cell {
      @apply min-h-[80px] p-1;
    }

    .event-pill {
      @apply text-[10px] px-1.5;
    }

    .calendar-grid {
      @apply gap-0;
    }
  }

  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    .calendar-container {
      --cal-border: hsl(214, 32%, 20%);
      --cal-hover: hsl(214, 95%, 10%);
      --cal-selected: hsl(214, 95%, 15%);
      --cal-today: hsl(47, 100%, 15%);
      --cal-weekend: hsl(220, 14%, 8%);
    }

    .calendar-day-cell {
      @apply bg-gray-900 text-gray-100;
    }

    .calendar-day-cell.weekend {
      @apply bg-gray-950;
    }
  }
}